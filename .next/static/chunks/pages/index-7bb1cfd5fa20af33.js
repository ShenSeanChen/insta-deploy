(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(6938)}])},377:function(e,s,t){"use strict";t.d(s,{e:function(){return n}});var n=(0,t(4480).cn)({key:"modalState",default:!1})},7673:function(e,s,t){"use strict";var n=t(828),a=t(5893),r=t(5675),i=t.n(r),l=(t(7294),t(3737)),c=t(9065),o=t(3185),u=t(219),d=t(3233),m=t(2350),x=t(5575),f=t(3299),p=t(1163),h=t(4480),v=t(377);s.Z=function(){var e,s=(0,f.useSession)().data,t=(0,n.Z)((0,h.FV)(v.e),2),r=(t[0],t[1]),j=(0,p.useRouter)();return(0,a.jsx)("div",{className:"shadow-sm border-b bg-white sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"flex justify-between bg-white mx-5 lg:mx-auto max-w-6xl ",children:[(0,a.jsx)("div",{className:"relative hidden lg:inline-grid ml-2 p-2 w-24 cursor-pointer",onClick:function(){return j.push("/")},children:(0,a.jsx)(i(),{src:"https://links.papareact.com/ocw",layout:"fill",objectFit:"contain"})}),(0,a.jsx)("div",{className:"relative w-10 m2-1 p-2 lg:hidden flex-shrink-0 cursor-pointer",onClick:function(){return j.push("/")},children:(0,a.jsx)(i(),{src:"https://links.papareact.com/jjm",layout:"fill",objectFit:"contain"})}),(0,a.jsx)("div",{className:"max-w-xs",children:(0,a.jsxs)("div",{className:"relative p-2 rounded-md",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(l.Z,{className:"h-5 w-5 text-gray-500"})}),(0,a.jsx)("input",{className:"bg-gray-50 block w-full pl-10 sm:text-sm border-gray-300 rounded-md focus:ring-black focus:border-black",type:"text",placeholder:"Search"})]})}),(0,a.jsxs)("div",{className:"flex mr-2 items-center justify-end space-x-4",children:[(0,a.jsx)(c.Z,{className:"h-6 md:hidden cursor-pointer"}),(0,a.jsx)(x.Z,{className:"navBtn",onClick:function(){return j.push("/")}}),s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative navBtn",children:[(0,a.jsx)(o.Z,{className:"navBtn rotate-45"}),(0,a.jsx)("div",{className:"absolute -top-1 -right-2 text-xs w-5 h-5 bg-red-500 rounded-full flex items-center justify-center animate-pulse text-white",children:"3"})]}),(0,a.jsx)(u.Z,{onClick:function(){return r(!0)},className:"navBtn"}),(0,a.jsx)(d.Z,{className:"navBtn"}),(0,a.jsxs)("div",{className:"relative navBtn",children:[(0,a.jsx)(m.Z,{className:"navBtn"}),(0,a.jsx)("div",{className:"absolute -top-1 -right-1 text-xs w-5 h-5 bg-pink-300 rounded-full flex items-center justify-center animate-pulse text-gray-500",children:"5"})]}),(0,a.jsx)("img",{onClick:f.signOut,src:null===s||void 0===s||null===(e=s.user)||void 0===e?void 0:e.image,alt:"profile pic",className:"h-8 w-8 rounded-full cursor-pointer"})]}):(0,a.jsx)("button",{onClick:f.signIn,children:"Sign In"})]})]})})}},6938:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return D}});var n={};t.r(n),t.d(n,{db:function(){return C},t:function(){return S}});var a=t(5893),r=t(9008),i=t.n(r),l=t(7673),c=t(7294),o=t(9815),u=t(5224);var d=function(e){var s=e.img,t=e.username;return(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{src:s,alt:"",className:"h-14 w-14 rounded-full p-[1.5px] border-red-500 border-2 object-contain hover:scale-110 transition transform duration-200 ease-out cursor-pointer"}),(0,a.jsx)("p",{className:"text-xs w-14 truncate text-center",children:t})]})},m=t(3299);var x=function(){var e=(0,m.useSession)().data,s=(0,c.useState)([]),t=s[0],n=s[1];return(0,c.useEffect)((function(){var e=(0,o.Z)(Array(20)).map((function(e,s){return{userId:u.We.datatype.uuid(),username:u.We.internet.userName(),email:u.We.internet.email(),avatar:u.We.image.avatar(),password:u.We.internet.password(),birthdate:u.We.date.birthdate(),registeredAt:u.We.date.past(),id:s}}));n(e)}),[]),(0,a.jsxs)("div",{className:"flex space-x-2 p-6 bg-white mt-6 border-gray-200 border rounded-sm overflow-x-scroll scrollbar-thin scrollbar-thumb-black ",children:[e&&(0,a.jsx)(d,{img:e.user.image,username:e.user.username},e.user.uid),e&&t.map((function(e){return(0,a.jsx)(d,{img:e.avatar,username:e.username},e.id)}))]})},f=t(7568),p=t(4051),h=t.n(p),v=t(1848),j=t(2350),g=t(6293),b=t(3185),N=t(4295),y=t(9050),w=t(5503),k=(t(5762),t(6257)),Z=t(3404),C=((0,w.C6)().length?(0,w.Mq)():(0,w.ZF)({apiKey:"AIzaSyCeykfFFTJCXvbLBPnnKLC_Nnasy6MBoOc",authDomain:"instagram-clone-yt-c3046.firebaseapp.com",projectId:"instagram-clone-yt-c3046",storageBucket:"instagram-clone-yt-c3046.appspot.com",messagingSenderId:"616747167343",appId:"1:616747167343:web:aa5f5bb655fa5c5874e79a",measurementId:"G-K3LGTJEWEF"}),(0,k.ad)()),S=(0,Z.cF)(),I=t(774),F=t(4803),W=t.n(F);var E=function(e){var s=e.id,t=e.username,n=e.userImg,r=e.img,i=e.caption,l=(0,m.useSession)().data,o=(0,c.useState)(""),u=o[0],d=o[1],x=(0,c.useState)([]),p=x[0],w=x[1],Z=(0,c.useState)([]),S=Z[0],I=Z[1],F=(0,c.useState)(!1),E=F[0],_=F[1],B=(0,c.useState)([]),T=B[0],J=B[1];(0,c.useEffect)((function(){return(0,k.cf)((0,k.IO)((0,k.hJ)(C,"posts",s,"comments"),(0,k.Xo)("timestamp","desc")),(function(e){return w(e.docs)}))}),[C,s]);var O=function(){var e=(0,f.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=u,d(""),e.next=5,(0,k.ET)((0,k.hJ)(C,"posts",s,"comments"),{comment:n,username:l.user.username,userImage:l.user.image,timestamp:(0,k.Bt)()});case 5:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){return(0,k.cf)((0,k.hJ)(C,"posts",s,"likes"),(function(e){return I(e.docs)}))}),[C,s]);var A=function(){var e=(0,f.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!E){e.next=5;break}return e.next=3,(0,k.oe)((0,k.JU)(C,"posts",s,"likes",l.user.uid));case 3:e.next=7;break;case 5:return e.next=7,(0,k.pl)((0,k.JU)(C,"posts",s,"likes",l.user.uid),{username:l.user.username,timestamp:(0,k.Bt)()});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){_(-1!==S.findIndex((function(e){var s;return e.id===(null===l||void 0===l||null===(s=l.user)||void 0===s?void 0:s.uid)})))}),[S]),(0,c.useEffect)((function(){return(0,k.cf)((0,k.IO)((0,k.hJ)(C,"posts",s,"likes"),(0,k.Xo)("timestamp","desc")),(function(e){return J(e.docs)}))}),[C,s]),(0,a.jsxs)("div",{className:"bg-white my-7 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center p-2",children:[(0,a.jsx)("img",{src:n,alt:"",className:"h-12 w-12 rounded-full object-contain border p-1 mr-3"}),(0,a.jsx)("p",{className:"flex-1 font-bold",children:t}),(0,a.jsx)(v.Z,{className:"h-5 mr-2"})]}),(0,a.jsx)("img",{src:r,className:"object-cover w-full h-full",alt:""}),l&&(0,a.jsxs)("div",{className:"flex justify-between items-center mt-2 mb-1 px-2",children:[(0,a.jsxs)("div",{className:"flex space-x-4 ",children:[(0,a.jsx)(j.Z,{onClick:A,className:"btn ".concat(E&&"btn fill-red-300")}),(0,a.jsx)(g.Z,{className:"btn"}),(0,a.jsx)(b.Z,{className:"btn"})]}),(0,a.jsx)(N.Z,{className:"btn mr-2"})]}),(0,a.jsxs)("div",{children:[l&&(0,a.jsx)("p",{className:"px-3 pt-1 truncate",children:(0,a.jsxs)("span",{className:"font-bold",children:[" ",E?"I Love it!":"Nah, not so good."," "]})}),S.length>0&&(0,a.jsx)("p",{className:"px-3 pt-2 truncate text-gray-500 text-sm",children:(0,a.jsxs)("span",{children:[T.length," likes, by ",T.map((function(e){return e.data().username})).join(", ")]})})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("p",{className:"px-3 py-1 truncate",children:[(0,a.jsxs)("span",{className:"font-bold",children:["@",t," "]}),i]})}),p.length>0&&(0,a.jsx)("div",{className:"pb-2 pl-2 overflow-y-scroll scrollbar-thumb-black scrollbar-thin",children:p.map((function(e){var s;return(0,a.jsx)("div",{className:"",children:e.data().comment.trim().length>0&&(0,a.jsxs)("div",{className:"flex space-x-2 pl-2 py-1 justify-center",children:[(0,a.jsx)("img",{src:e.data().userImage,alt:"",className:"w-5 h-5 rounded-full"}),(0,a.jsxs)("p",{className:"text-sm flex-1",children:[(0,a.jsx)("span",{className:"font-bold text-sm",children:e.data().username}),"  ",e.data().comment]}),(0,a.jsx)(W(),{fromNow:!0,className:"pr-5 text-xs text-gray-400",children:null===(s=e.data().timestamp)||void 0===s?void 0:s.toDate()})]})},e.id)}))}),l&&(0,a.jsx)("div",{className:"px-2",children:(0,a.jsxs)("form",{className:"flex items-center mb-2 mr-4",children:[(0,a.jsx)(y.Z,{className:"btn"}),(0,a.jsx)("input",{type:"text",value:u,onChange:function(e){return d(e.target.value)},placeholder:"Add a Comment...",className:"border-none flex-1 focus:ring-0 outline-none"}),(0,a.jsx)("button",{type:"submit",onClick:O,disabled:0==u.trim().length,className:"font-semibold text-blue-500 \n                        ".concat(0==u.trim().length&&"text-blue-200"),children:"Post"})]})})]})};var _=function(){var e=(0,c.useState)([]),s=e[0],t=e[1];if((0,c.useEffect)((function(){return(0,k.cf)((0,k.IO)((0,k.hJ)(C,"posts"),(0,k.Xo)("timestamp","desc")),(function(e){t(e.docs)}))}),[C]),function(){var e=(0,f.Z)(h().mark((function e(s){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.data().profileImg;case 2:return e.abrupt("return",s.data().profileImg);case 3:case"end":return e.stop()}}),e)})))}(),null!=s)return(0,a.jsx)("div",{children:s.map((function(e){return(0,a.jsx)(E,{id:e.id,username:e.data().username,userImg:e.data().profileImg,img:e.data().image,caption:e.data().caption},e.id)}))})};var B=function(){var e,s,t,n=(0,m.useSession)().data;return(0,a.jsxs)("div",{className:"flex items-center justify-between mt-14 ml-10",children:[(0,a.jsx)("img",{src:null===n||void 0===n||null===(e=n.user)||void 0===e?void 0:e.image,className:"w-16 h-16 rounded-full border p-[2px]",alt:""}),(0,a.jsxs)("div",{className:"flex-1 mx-4",children:[(0,a.jsxs)("h2",{className:"font-bold",children:[" @",null===n||void 0===n||null===(s=n.user)||void 0===s?void 0:s.username," "]}),(0,a.jsxs)("h3",{className:"text-sm text-gray-600",children:[" Welcome to ",null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t.name,"'s Stories! "]})]}),(0,a.jsx)("button",{onClick:m.signOut,className:"text-blue-400 text-sm font-semibold",children:"Sign Out"})]})};var T=function(e){var s=e.img,t=e.username,n=e.company;return(0,a.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,a.jsx)("img",{src:s,alt:"",className:"h-12 w-12 rounded-full object-contain border p-[2px] mr-3"}),(0,a.jsxs)("div",{className:"flex-1 mx-4",children:[(0,a.jsxs)("h2",{className:"font-semibold",children:[" ",t," "]}),(0,a.jsxs)("h3",{className:"text-sm text-gray-600",children:[" ",n," "]})]}),(0,a.jsx)("button",{className:"text-blue-600",children:"Follow"})]})};var J=function(){var e=(0,c.useState)([]),s=e[0],t=e[1];return(0,c.useEffect)((function(){var e=(0,o.Z)(Array(5)).map((function(e,s){return{userId:u.We.datatype.uuid(),username:u.We.internet.userName(),email:u.We.internet.email(),company:u.We.company.name(),img:u.We.image.avatar(),password:u.We.internet.password(),birthdate:u.We.date.birthdate(),registeredAt:u.We.date.past(),id:s}}));t(e)}),[]),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{className:"flex justify-between ml-10 mt-5",children:[(0,a.jsx)("h2",{className:"text-gray-500",children:"Suggestions for you"}),(0,a.jsx)("button",{className:"text-gray-800 font-semibod",children:"See All"})]}),(0,a.jsx)("div",{className:"ml-10",children:s.map((function(e){return(0,a.jsx)(T,{img:e.img,username:e.username,company:e.company},e.id)}))})]})};var O=function(){var e=(0,m.useSession)().data;return(0,a.jsxs)("main",{className:"grid grid-cols-1 \n        \n        md:grid-cols-2 md:max-w-2xl \n        xl:grid-cols-3 xl:max-w-3xl mx-auto \n        px-10\n        ".concat(!e&&"!grid-cols-1 !max-w-2xl"),children:[(0,a.jsxs)("section",{className:"col-span-2",children:[e&&(0,a.jsx)(x,{}),(0,a.jsx)(_,{})]}),e&&(0,a.jsx)("section",{className:"hidden xl:inline-grid md:col-span-1",children:(0,a.jsxs)("div",{className:"fixed top-20",children:[(0,a.jsx)(B,{}),(0,a.jsx)(J,{})]})})]})},A=t(828),L=t(4480),U=t(377),R=t(4829),X=t(728),P=t(2480);var V=function(){var e=(0,m.useSession)().data,s=(0,A.Z)((0,L.FV)(U.e),2),t=s[0],r=s[1],i=(0,c.useRef)(null),l=(0,c.useState)(null),o=l[0],u=l[1],d=(0,c.useRef)(null),x=function(){var s=(0,f.Z)(h().mark((function s(){var t,a;return h().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!n.loading){s.next=2;break}return s.abrupt("return");case 2:return(0,n.setLoading)(!0),s.next=5,(0,k.ET)((0,k.hJ)(C,"posts"),{username:e.user.username,caption:d.current.value,profileImg:e.user.image,timestamp:(0,k.Bt)()});case 5:return t=s.sent,a=(0,I.iH)(S,"posts/".concat(t.id,"/image")),s.next=9,(0,I.sf)(a,o,"data_url").then(function(){var e=(0,f.Z)(h().mark((function e(s){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,I.Jt)(a);case 2:return n=e.sent,e.next=5,(0,k.r7)((0,k.JU)(C,"posts",t.id),{image:n});case 5:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}());case 9:r(!1),(0,n.setLoading)(!1),u(null);case 12:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}();return(0,a.jsx)(R.u.Root,{show:t,as:c.Fragment,children:(0,a.jsx)(X.V,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",onClose:r,children:(0,a.jsxs)("div",{className:"flex items-end justify-center min-h-[800px] sm:min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,a.jsx)(R.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)(X.V.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,a.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"Testing!!!"}),(0,a.jsx)(R.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,a.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-center overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6",children:(0,a.jsxs)("div",{children:[o?(0,a.jsx)("div",{className:"flex items-center justify-center py-2",children:(0,a.jsx)("img",{src:o,alt:"",className:"w-full object-contain cursor-pointer",onClick:function(){return i.current.click()}})}):(0,a.jsx)("div",{onClick:function(){return i.current.click()},className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 cursor-pointer",children:(0,a.jsx)(P.Z,{className:"h-6 w-6 text-red-400","aria-hidden":"true"})}),(0,a.jsx)("div",{children:(0,a.jsx)(X.V.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900 pt-2",children:"Upload a photo"})}),(0,a.jsx)("div",{children:(0,a.jsx)("input",{ref:i,type:"file",hidden:!0,onChange:function(e){var s=new FileReader;e.target.files[0]&&s.readAsDataURL(e.target.files[0]),s.onload=function(e){u(e.target.result)}}})}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("input",{className:"border-none focus:ring-0 w-full text-center",type:"text",ref:d,placeholder:"Let us know how you've been...:)"})}),(0,a.jsx)("div",{className:"mt-5 sm:mt-6",children:(0,a.jsx)("button",{type:"button",onClick:x,diabled:!o,className:"inline-flex justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-300 text-base font-medium text-white hover:bg-blue-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-lg disabled:bg-gray-300 disabled:cursor-not-allowed hover:disabled:bg-gray-300",children:n.loading?"Uploading...":"Upload Post"})})]})})})]})})})},D=function(){return(0,a.jsxs)("div",{className:"bg-gray-50 h-screen overflow-y-scroll scrollbar-hide",children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"Instagram 2.0 YT"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsx)(l.Z,{}),(0,a.jsx)(O,{}),(0,a.jsx)(V,{})]})}}},function(e){e.O(0,[206,281,756,677,257,885,16,82,938,774,888,179],(function(){return s=8312,e(e.s=s);var s}));var s=e.O();_N_E=s}]);